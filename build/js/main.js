let render_config={position_x:300,position_y:0,panorama:'img/panorama_30.jpg',container_id:'panorama_render',turning:!1,arrows_show:!0},renders={meters_30:{position_x:300,position_y:0,panorama:'img/panorama_30.jpg',container_id:'panorama_render',turning:!1,arrows_show:!0},meters_50:{position_x:310,position_y:-10,panorama:'img/panorama_50.jpg',container_id:'panorama_render',turning:!1,arrows_show:!0},meters_70:{position_x:170,position_y:-20,panorama:'img/panorama_70.jpg',container_id:'panorama_render',turning:!1,arrows_show:!0},meters_90:{position_x:250,position_y:-30,panorama:'img/panorama_90.jpg',container_id:'panorama_render',turning:!1,arrows_show:!0},meters_110:{position_x:180,position_y:-25,panorama:'img/panorama_110.jpg',container_id:'panorama_render',turning:!1,arrows_show:!0}},renders_list=Object.keys(renders);starting_render(render_config);function starting_render(a){function b(){var c=Math.cos,d=Math.sin;requestAnimationFrame(b),a.turning&&!t&&(u+=0.1),w&&(u-=.5),x&&(u+=.5),y&&(v+=.5),z&&(v-=.5),v=Math.max(-85,Math.min(85,v)),C.target.x=500*d(THREE.Math.degToRad(90-v))*c(THREE.Math.degToRad(u)),C.target.y=500*c(THREE.Math.degToRad(90-v)),C.target.z=500*d(THREE.Math.degToRad(90-v))*d(THREE.Math.degToRad(u)),C.lookAt(C.target),renderer.render(B,C)}function c(){w=!0}function d(){w=!1}function e(){x=!0}function f(){x=!1}function g(){y=!0}function h(){y=!1}function i(){z=!0}function j(){z=!1}function k(a){a.preventDefault(),t=!0,o=a.clientX,p=a.clientY,q=u,r=v}function l(a){t&&(u=0.1*(o-a.clientX)+q,v=0.1*(a.clientY-p)+r)}function m(){t=!1}function n(){let a,b=this.dataset.keyrender;a=renders[renders_list[b]],E.map=THREE.ImageUtils.loadTexture(a.panorama),u=a.position_x,v=a.position_y}let o,p,q,r,s,t=!1,u=a.position_x,v=a.position_y,w=!1,x=!1,y=!1,z=!1,A=Math.floor(Math.random()*['panorama.jpg'].length);s=document.getElementById(a.container_id),renderer=new THREE.WebGLRenderer,renderer.setSize(s.offsetWidth,s.offsetHeight),s.appendChild(renderer.domElement);let B=new THREE.Scene,C=new THREE.PerspectiveCamera(75,s.offsetWidth/s.offsetHeight,1,1e3),D=new THREE.SphereGeometry(100,100,40),E=new THREE.MeshBasicMaterial,F=new THREE.Mesh(D,E);if(C.target=new THREE.Vector3(0,0,0),D.applyMatrix(new THREE.Matrix4().makeScale(-1,1,1)),E.map=THREE.ImageUtils.loadTexture(a.panorama),B.add(F),a.arrows_show){let a,b,k=document.createElement('div'),l=document.createElement('button'),m=document.createElement('button'),o=document.createElement('button'),p=document.createElement('button'),q=document.createElement('div'),r=document.createElement('button'),t=document.createElement('button'),u=document.createElement('button'),v=document.createElement('button'),w=document.createElement('button');k.setAttribute('id','buttons_wrapper'),k.setAttribute('class','panorama-btn-wrapper'),s.appendChild(k),a=document.getElementById('buttons_wrapper'),q.setAttribute('id','buttons_altitude'),q.setAttribute('class','panorama-btn-altitude'),s.appendChild(q),b=document.getElementById('buttons_altitude'),l.setAttribute('id','left_control'),l.setAttribute('class','panorama-btn panorama-btn--left'),l.innerHTML='\u0412\u0435\u0440\u0442\u0435\u0442\u044C \u0432\u043B\u0435\u0432\u043E',a.appendChild(l),m.setAttribute('class','panorama-btn panorama-btn--right'),m.setAttribute('id','right_control'),m.innerHTML='\u0412\u0435\u0440\u0442\u0435\u0442\u044C \u0432\u043F\u0440\u0430\u0432\u043E',a.appendChild(m),o.setAttribute('id','up_control'),o.setAttribute('class','panorama-btn panorama-btn--up'),o.innerHTML='\u0412\u0435\u0440\u0442\u0435\u0442\u044C \u0432\u0432\u0440\u0435\u0445',a.appendChild(o),p.setAttribute('id','down_control'),p.setAttribute('class','panorama-btn panorama-btn--down'),p.innerHTML='\u0412\u0435\u0440\u0442\u0435\u0442\u044C \u0432\u043D\u0438\u0437',a.appendChild(p),r.setAttribute('id','button_30'),r.setAttribute('class','panorama-altitude-btn'),r.setAttribute('data-keyrender','0'),r.innerHTML='30',b.appendChild(r),t.setAttribute('id','button_50'),t.setAttribute('class','panorama-altitude-btn'),t.setAttribute('data-keyrender','1'),t.innerHTML='50',b.appendChild(t),u.setAttribute('id','button_70'),u.setAttribute('class','panorama-altitude-btn'),u.setAttribute('data-keyrender','2'),u.innerHTML='70',b.appendChild(u),v.setAttribute('id','button_90'),v.setAttribute('class','panorama-altitude-btn'),v.setAttribute('data-keyrender','3'),v.innerHTML='90',b.appendChild(v),w.setAttribute('id','button_110'),w.setAttribute('class','panorama-altitude-btn'),w.setAttribute('data-keyrender','4'),w.innerHTML='110',b.appendChild(w),document.getElementById('left_control').addEventListener('mousedown',c,!1),document.getElementById('left_control').addEventListener('mouseup',d,!1),document.getElementById('right_control').addEventListener('mousedown',e,!1),document.getElementById('right_control').addEventListener('mouseup',f,!1),document.getElementById('up_control').addEventListener('mousedown',g,!1),document.getElementById('up_control').addEventListener('mouseup',h,!1),document.getElementById('down_control').addEventListener('mousedown',i,!1),document.getElementById('down_control').addEventListener('mouseup',j,!1),document.getElementById('button_30').addEventListener('click',n,!1),document.getElementById('button_50').addEventListener('click',n,!1),document.getElementById('button_70').addEventListener('click',n,!1),document.getElementById('button_90').addEventListener('click',n,!1),document.getElementById('button_110').addEventListener('click',n,!1)}let G=s.getElementsByTagName('canvas')[0];G.addEventListener('mousedown',k,!1),G.addEventListener('mousemove',l,!1),G.addEventListener('mouseup',m,!1),G.addEventListener('touchstart',k,!1),G.addEventListener('touchmove',l,!1),G.addEventListener('touchend',m,!1),window.addEventListener('resize',function(){C.aspect=s.offsetWidth/s.offsetHeight,C.updateProjectionMatrix(),renderer.setSize(s.offsetWidth,s.offsetHeight)},!1),b()}